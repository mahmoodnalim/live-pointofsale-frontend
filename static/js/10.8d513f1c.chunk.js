(this["webpackJsonpeit-pos-front-end"]=this["webpackJsonpeit-pos-front-end"]||[]).push([[10],{323:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return y}));var a=n(4),r=n.n(a),c=n(7),u=n(13);function i(){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/suppliers",{limit:20});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return s.apply(this,arguments)}function s(){return(s=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("./suppliers/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.put("./suppliers/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("./suppliers",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.deleteById("./suppliers",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/suppliers/search/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},331:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(45),r=function(e){return e.supplier},c=Object(a.a)(r,(function(e){return e.allSupplierList})),u=Object(a.a)(r,(function(e){return e.supplierList}))},332:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n(12),r=function(e){return function(t){return t({type:a.w,payload:e})}},c=function(e){return function(t){return t({type:a.h,payload:e})}}},333:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e.map((function(e){var t=e.id,n=e.firstName,a=e.phoneNo;return{id:t,firstName:n,companyName:e.companyName,phoneNo:a||"-"}}))}},350:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),c=n(7),u=n(14),i=n(0),l=n.n(i),o=n(146),s=n(15),p=n(30),d=n(285),f=n(282),m=n(226),b=n(233),v=n(308),y=n(279),h=n(25),O=n(26),E=n(167),j=n(225),k=n(121),g=n.n(k);function x(){var e=Object(h.a)(["\n  margin-right: 10px;\n  margin-left: 20px;\n"]);return x=function(){return e},e}function w(){var e=Object(h.a)(["\n  margin: 20px 0;\n"]);return w=function(){return e},e}function I(){var e=Object(h.a)(["\n  width: 100%;\n"]);return I=function(){return e},e}function N(){var e=Object(h.a)(["\n  margin: 20px 0;\n"]);return N=function(){return e},e}var S=Object(O.a)(E.a)(N()),C=Object(O.a)(j.a)(I()),L=Object(O.a)(y.a)(w()),F=(Object(O.a)(g.a)(x()),[{key:"2S",value:"2S"},{key:"3",value:"3P"},{key:"5",value:"5P"},{key:"4S",value:"4S"},{key:"175",value:"175cc"},{key:"205",value:"205cc"},{key:"2006",value:"2006"},{key:"2008",value:"2008"},{key:"2010",value:"2010"},{key:"2011",value:"2011"},{key:"2012",value:"2012"},{key:"2013",value:"2013"},{key:"2014",value:"2014"},{key:"FL",value:"FL"},{key:"FLOM",value:"FLOM"},{key:"FLNM",value:"FLNM"}]),W=n(21),V=n(97),A=n(10),R=n(19),B=n(332),M=n(333),P=n(323),U=n(331),D=n(120),G=n(145),J=n(95);t.default=function(){var e=Object(o.b)(),t=e.control,n=e.handleSubmit,a=e.register,h=e.watch,O=Object(s.c)(),E=Object(p.g)(),j=E.push,k=E.goBack,g=Object(p.h)().state,x=Object(p.i)().id,w=g?g.editingItem:"",I=Object(s.d)(U.a),N=Object(s.d)(G.a),q=Object(i.useState)(!1),z=Object(u.a)(q,2),H=z[0],K=z[1];Object(i.useEffect)((function(){I.length||(O(Object(W.a)(!0)),Object(P.d)().then((function(e){O(Object(W.a)(!1)),Array.isArray(e.data)&&O(Object(B.a)(Object(M.a)(e.data)))})).catch((function(e){R.b.error("Unable to get suppliers"),O(Object(W.a)(!1))})))}),[I.length,O]);var Q,T=h(),X=T.category,Y=T.itemName,Z=T.brandId,$=T.partNumber;"Original-OE"===Z?Q=$||"":(Q=w?w.itemCode:"G",(X||Y||Z)&&(Q="G"),Q+=X?X.split("-")[1]:"",Q+=Y?Y.match(/\b(\w)/g).join("").toUpperCase():"",Q+=Z?Z.split("-")[1]:"");var _=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(Object(W.a)(!0)),t.category&&(t.category=t.category.split("-")[0]),"Original-OE"===t.brandId?t.brandId=null:t.brandId=parseInt(t.brandId.split("-")[0]),t.description||(t.description=void 0),t.partNumber=void 0,t.itemCode=Q,!w){e.next=22;break}return e.prev=7,e.next=10,Object(V.h)(x,t);case 10:j(A.a.items),R.b.success("Succuessfully Updated"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),R.b.error("unable to update item details");case 17:return e.prev=17,O(Object(W.a)(!1)),e.finish(17);case 20:e.next=35;break;case 22:return e.prev=22,e.next=25,Object(V.a)(t);case 25:j(A.a.items),R.b.success("Succuessfully created"),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),R.b.error("unable to create item");case 32:return e.prev=32,O(Object(W.a)(!1)),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[7,14,17,20],[22,29,32,35]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(Object(W.a)(!0)),e.next=4,Object(V.b)(x);case 4:j(A.a.items),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),R.b.error("Unable to delete item");case 10:return e.prev=10,O(Object(W.a)(!1)),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(d.a,{style:{width:"80%"}},l.a.createElement(J.a,{title:w?"Edit Item":"Create New Item",backButton:!0}),l.a.createElement("form",{onSubmit:n(_)},l.a.createElement(L,null,l.a.createElement(f.a,{name:"itemCode",label:"Item Code",fullWidth:!0,disabled:!0,variant:"outlined",value:Q})),l.a.createElement(L,null,l.a.createElement(f.a,{name:"itemName",inputRef:a,label:"Item Name",fullWidth:!0,variant:"outlined",defaultValue:w?w.itemName:""})),l.a.createElement(L,null,l.a.createElement(C,null,l.a.createElement(m.a,{htmlFor:"category"},"Category"),l.a.createElement(o.a,{name:"category",control:t,defaultValue:w?function(){var e=F.filter((function(e){return e.value===w.category}));return"".concat(e[0].value,"-").concat(e[0].key)}():"2S-2S",as:l.a.createElement(b.a,{id:"category",name:"category"},F.map((function(e){var t=e.key,n=e.value;return l.a.createElement(v.a,{key:t,value:"".concat(n,"-").concat(t)},n)})))}))),l.a.createElement(L,null,l.a.createElement(C,null,l.a.createElement(m.a,{htmlFor:"brandId"},"Brand"),l.a.createElement(o.a,{name:"brandId",control:t,defaultValue:w?function(){var e=N.filter((function(e){return e.id===w.brandId}));return e.length?"".concat(e[0].id,"-").concat(e[0].code):"Original-OE"}():"",as:l.a.createElement(b.a,{id:"brandId",name:"brandId"},l.a.createElement(v.a,{key:"Original-OE",value:"Original-OE"},"Original-OE"),N.map((function(e){var t=e.id,n=e.code,a=e.name;return l.a.createElement(v.a,{key:t,value:"".concat(t,"-").concat(n)},"".concat(n," - ").concat(a))})))}))),"Original-OE"===Z&&l.a.createElement(L,null,l.a.createElement(f.a,{name:"partNumber",inputRef:a,label:"Part Number",fullWidth:!0,variant:"outlined",defaultValue:w?w.itemCode:""})),l.a.createElement(L,null,l.a.createElement(C,null,l.a.createElement(m.a,{id:"supplierId"},"Select a Supplier"),l.a.createElement(o.a,{name:"supplierId",control:t,defaultValue:w?w.supplier.id:"",as:l.a.createElement(b.a,{id:"supplierId",name:"supplierId"},I.map((function(e){var t=e.id,n=e.companyName;return l.a.createElement(v.a,{key:t,value:t},n)})))}))),l.a.createElement(L,null,l.a.createElement(f.a,{name:"reOrderLevel",inputRef:a,label:"Reorder level",variant:"outlined",fullWidth:!0,defaultValue:w?w.reOrderLevel:""})),l.a.createElement(L,null,l.a.createElement(f.a,{name:"description",inputRef:a,label:"Description",variant:"outlined",fullWidth:!0,multiline:!0,rows:2})),l.a.createElement(y.a,{container:!0},l.a.createElement(y.a,{item:!0,xs:5},l.a.createElement(S,{variant:"contained",color:"secondary",onClick:w?function(){K(!0)}:function(){k()},fullWidth:!0},w?"Delete":"Cancel")),l.a.createElement(y.a,{item:!0,xs:2}),l.a.createElement(y.a,{item:!0,xs:5},l.a.createElement(S,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},w?"Edit Item":"Add Item")))),H&&l.a.createElement(D.a,{open:H,close:function(){K(!1)},handleAgree:ee,id:"deletePopup",header:"Confirm Delete",content:"Are you sure want to delete this item?"}))}}}]);
//# sourceMappingURL=10.8d513f1c.chunk.js.map