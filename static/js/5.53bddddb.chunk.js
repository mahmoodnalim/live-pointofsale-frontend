(this["webpackJsonpeit-pos-front-end"]=this["webpackJsonpeit-pos-front-end"]||[]).push([[5],{313:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(122),l=a(36),o=a(299);t.a=function(e){var t=e.entry,a=e.handleDatePickerChange,n=e.selectedDate,u=t.name,i=t.id;return r.a.createElement(l.a,{utils:c.a},r.a.createElement(o.a,{margin:"medium",id:i,name:u,format:" yyyy / MM / dd",value:n,onChange:a}))}},314:function(e,t,a){"use strict";var n=a(42),r=a(8),c=a(14),l=a(0),o=a.n(l),u=a(30),i=a(110),s=a(279),d=a(282),m=a(295),p=function(e){var t=e.entry,a=e.getValue,n=t.label,r=t.name,u=t.icon,i=t.type,p=t.required,f=t.autoFocus,b=t.value,h=t.multiline,v=t.rows,g=t.id,y=t.helperText,O=t.error,E=t.readOnly,j=Object(l.useState)(b),k=Object(c.a)(j,2),x=k[0],C=k[1];return o.a.createElement(s.a,{item:!0,xs:6},o.a.createElement(d.a,{fullWidth:!0,id:g,label:n,placeholder:n,name:r,type:i,required:p,autoFocus:f,value:x,multiline:h,rows:v,onChange:function(e){C(e.target.value),"function"===typeof a&&a(e.target.name,e.target.value)},error:O,helperText:O&&y,variant:"outlined",InputProps:{startAdornment:o.a.createElement(m.a,{position:"start"},u),readOnly:E}}))},f=a(3),b=a(220),h=a(341),v=a(342),g=a(335),y=a(227),O=Object(b.a)((function(e){return{root:{"&:hover":{backgroundColor:"transparent",display:"flex",flexWrap:"wrap"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},checkedIcon:{backgroundColor:"#137cbd",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:"#106ba3"}}}}));function E(e){var t=O();return o.a.createElement(h.a,Object.assign({className:t.root,disableRipple:!0,color:"default",checkedIcon:o.a.createElement("span",{className:Object(f.a)(t.icon,t.checkedIcon)}),icon:o.a.createElement("span",{className:t.icon})},e))}var j=function(e){var t=e.entry,a=e.getValue,n=t.value,r=t.name,u=t.label,i=t.values,d=Object(l.useState)(n),m=Object(c.a)(d,2),p=m[0],f=m[1];return o.a.createElement(s.a,{item:!0,xs:6},o.a.createElement(y.a,{component:"legend"},u),o.a.createElement(v.a,{row:!0,defaultValue:i[0].toLowerCase(),value:p,name:r,onChange:function(e){f(e.target.value),"function"===typeof a&&a(e.target.name,e.target.value)}},o.a.createElement(g.a,{value:i[0].toLowerCase(),control:o.a.createElement(E,null),label:i[0]}),o.a.createElement(g.a,{value:i[1].toLowerCase(),control:o.a.createElement(E,null),label:i[1]})))},k=a(306),x=a(167),C=a(17),w=a(325),N=a.n(w),S=function(e){var t=e.entry,a=e.getValue;console.log(t);var n=t.alt,r=t.value,u=Object(C.a)(),i=Object(l.useState)(r),d=Object(c.a)(i,2),m=d[0],p=d[1];return o.a.createElement(s.a,{xs:12},o.a.createElement("div",{className:u.customAvatarRoot},o.a.createElement(k.a,{alt:n,src:m,className:u.customAvatarStyles}),o.a.createElement("input",{accept:"image/*",className:u.customAvatarInput,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){console.log(e.target.name),console.log(e),a("logo",URL.createObjectURL(e.target.files[0])),p(URL.createObjectURL(e.target.files[0]))}}),o.a.createElement("label",{className:u.customAvatarButton,htmlFor:"contained-button-file"},o.a.createElement(x.a,{variant:"contained",color:"primary",size:"small",component:"span",startIcon:o.a.createElement(N.a,null)},"Upload"))))},M=a(285),V=a(300),z=a(121),D=a.n(z),P=a(313),q=a(20),A=a(225),I=a(226),_=a(233),R=a(223),U=a(311),F=a(308),L=a(228),T=a(238),B=function(e){var t=e.entry,a=e.getValue,n=t.value,r=t.name,l=t.id,u=t.label,i=t.helperText,d=t.error,m=o.a.useState([]),p=Object(c.a)(m,2),f=p[0],b=p[1],h=Object(C.a)(),v=(Object(T.a)(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return f.reduce((function(e,t){return e+t.amount}),e)});return o.a.createElement(s.a,{item:!0,xs:6},o.a.createElement(A.a,{className:h.dropdownControl},o.a.createElement(I.a,{id:u},"Due"),o.a.createElement(_.a,{labelId:u,id:l,value:f,onChange:function(e){var t=-1;f.forEach((function(a,n){a.id===e.target.value.id&&(t=n)})),console.log(t),t<0?(b([].concat(Object(q.a)(f),[e.target.value])),e.target.value=v(e.target.value.amount)):(f.splice(t,1),b(Object(q.a)(f)),e.target.value=v()),"function"===typeof a&&a(e.target.name,e.target.value)},input:o.a.createElement(R.a,{id:"Select due"}),name:r,renderValue:function(e){return o.a.createElement("div",{className:h.dropdownChips},e.map((function(e){return o.a.createElement(U.a,{key:e.id,label:"Rs. ".concat(parseFloat(e.total).toFixed(2))})})))}},n.map((function(e){return o.a.createElement(F.a,{key:l,value:e,style:(t=e.id,{fontWeight:f.filter((function(e){return e.id===t})).length?"bold":"normal"})},"pay due Rs. ".concat(parseFloat(e.amount).toFixed(2)," on ").concat(new Date(e.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric"})));var t}))),d&&o.a.createElement(L.a,{error:!0},i)))},H=a(337),W=Object(b.a)((function(e){return{root:{padding:7,margin:e.spacing(1)},thumb:{width:24,height:24,backgroundColor:"#fff",boxShadow:"0 0 12px 0 rgba(0,0,0,0.08), 0 0 8px 0 rgba(0,0,0,0.12), 0 0 4px 0 rgba(0,0,0,0.38)"},switchBase:{color:"rgba(0,0,0,0.38)",padding:7},track:{borderRadius:20,backgroundColor:"#90a4ae"},checked:{"& $thumb":{backgroundColor:"#fff"},"& + $track":{opacity:"1 !important"}}}})),$=function(e){var t=e.entry,a=e.getValue,n=t.name,r=t.label,l=t.checked,u=o.a.useState(l),i=Object(c.a)(u,2),d=i[0],m=i[1],p=W();return o.a.createElement(s.a,{item:!0,xs:6},o.a.createElement(y.a,{component:"legend"},r),o.a.createElement(H.a,{defaultChecked:!1,color:"primary",classes:p,checked:d,name:n,onChange:function(e){m(e.target.checked),"function"===typeof a&&a(e.target.name,e.target.checked)}}))},J=a(120),G=a(29),K=function(e){var t=e.entry,a=e.getValue,n=e.hidden,r=t.values,l=t.name,u=t.id,i=t.label,d=t.helperText,m=t.error,p=Object(C.a)(),f=o.a.useState(r[0].value),b=Object(c.a)(f,2),h=b[0],v=b[1];return n?null:o.a.createElement(s.a,{item:!0,xs:6},o.a.createElement(A.a,{className:p.dropdownControl},o.a.createElement(I.a,{id:i},i),o.a.createElement(_.a,{labelId:i,id:u,value:h,onChange:function(e){"function"===typeof a&&(a(e.target.name,e.target.value),v(e.target.value))},name:l},r.map((function(e){var t=e.key,a=e.value;return o.a.createElement(F.a,{key:t,value:t},a)}))),m&&o.a.createElement(L.a,{error:!0},d)))},Q=a(96),X=a.n(Q);t.a=function(e){var t=e.title,a=(e.topUis,e.buttonName),d=void 0===a?"Submit":a,m=e.data,f=void 0===m?[]:m,b=e.onClick,h=e.actor,v=void 0===h?{}:h,g=e.handleDelete,y=e.hideDeleteButton,O=e.handleDatePickerChange;console.log(f);var E=Object(l.useState)(Object(r.a)({},v)),k=Object(c.a)(E,2),w=k[0],N=k[1],z=Object(l.useState)(),q=Object(c.a)(z,2),A=q[0],I=q[1],_=o.a.useState(!1),R=Object(c.a)(_,2),U=R[0],F=R[1],L=function(e,t){N(Object(r.a)(Object(r.a)({},w),{},Object(n.a)({},e,t))),console.log(Object(r.a)(Object(r.a)({},w),{},Object(n.a)({},e,t)))},T=Object(u.g)(),H=Object(C.a)(),W=f;return A&&(W=A),o.a.createElement(M.a,{component:"main",maxWidth:"md"},o.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){T.goBack()},className:H.backButton},o.a.createElement(X.a,null)),o.a.createElement(i.a,{component:"h1",variant:"h5"},o.a.createElement(V.a,{lineHeight:2},o.a.createElement(D.a,{className:H.formbuilderMargin}),t)),o.a.createElement("div",null,o.a.createElement("form",{className:H.formbuilderForm},o.a.createElement(s.a,{container:!0,spacing:3},W.map((function(e){switch(e.type){case"text":case"email":case"tel":case"number":return o.a.createElement(p,{entry:e,key:e.label,getValue:L});case"date":return o.a.createElement(P.a,{entry:e,handleDatePickerChange:O});case"radio":return o.a.createElement(j,{entry:e,key:e.label,getValue:L});case"customDropdown":return o.a.createElement(K,{entry:e,key:e.label,getValue:L,hidden:"supplierId"===e.id&&"branded"===w.itemType});case"dropdown":case"amount":return o.a.createElement(B,{entry:e,key:e.label,getValue:L});case"avatar":return o.a.createElement(S,{entry:e,getValue:L});case"switch":return o.a.createElement($,{entry:e,getValue:L,key:e.name});default:return null}}))),o.a.createElement(x.a,{type:"submit",variant:"contained",color:"primary",onClick:function(e){console.log(w),e.preventDefault();var t=[];f.forEach((function(e){var a=w["".concat(e.id)];"email"===e.type?function(e,t,a){e.required||t?G.e.test(t)?a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!0,helperText:"Email is not in valid format"})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1}))}(e,a,t):"tel"===e.type?function(e,t,a){e.required||t?G.f.test(t)?a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!0,helperText:"Please enter a valid phone number"})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1}))}(e,a,t):function(e,t,a){e.required?t?a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!0,helperText:"".concat(e.label," is required")})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1}))}(e,a,t)})),I(t);var a=t.filter((function(e){return e.error}));a.length?(console.log("Form validation error"),console.log(a)):b(w,v.id)},className:H.formbuilderSubmit},d),v.id&&!y&&o.a.createElement(x.a,{variant:"contained",color:"secondary",onClick:function(){F(!0)}},"Delete"))),U&&o.a.createElement(J.a,{open:U,close:function(){F(!1)},handleAgree:g,id:"deletePopup",header:"Confirm Delete",content:"Are you sure want to delete the ".concat(v.firstName?"".concat(v.firstName," ").concat(v.lastName):v.itemName)}))}},315:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.default=c},316:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),"Email");t.default=c},317:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1zm-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5-4H7V4h9v14z"}),"PhoneIphone");t.default=c},318:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.default=c},319:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"}),"LocalOffer");t.default=c},320:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"}),"MonetizationOn");t.default=c},323:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return b})),a.d(t,"e",(function(){return v}));var n=a(4),r=a.n(n),c=a(7),l=a(13);function o(){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/suppliers",{limit:20});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return s.apply(this,arguments)}function s(){return(s=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("./suppliers/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.put("./suppliers/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("./suppliers",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.deleteById("./suppliers",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/suppliers/search/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},326:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M21 5v14h2V5h-2zm-4 14h2V5h-2v14zM14 5H2c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM8 7.75c1.24 0 2.25 1.01 2.25 2.25S9.24 12.25 8 12.25 5.75 11.24 5.75 10 6.76 7.75 8 7.75zM12.5 17h-9v-.75c0-1.5 3-2.25 4.5-2.25s4.5.75 4.5 2.25V17z"}),"RecentActors");t.default=c},353:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(14),c=a(0),l=a.n(c),o=a(30),u=a(15),i=a(314),s=a(315),d=a.n(s),m=a(316),p=a.n(m),f=a(318),b=a.n(f),h=a(319),v=a.n(h),g=a(326),y=a.n(g),O=a(320),E=a.n(O),j=a(317),k=a.n(j),x=[{id:"firstName",type:"text",label:"Name",name:"firstName",required:!0,autoFocus:!0,icon:l.a.createElement(d.a,null)},{id:"companyName",type:"text",label:"Company Name",name:"companyName",required:!0,icon:l.a.createElement(d.a,null)},{id:"email",type:"email",label:"Email",name:"email",required:!1,icon:l.a.createElement(p.a,null)},{id:"phoneNo",name:"phoneNo",type:"number",label:"Mobile Number",required:!1,icon:l.a.createElement(k.a,null)},{id:"gender",name:"gender",type:"radio",label:"Gender",values:["Male","Female"]},{id:"address",type:"text",label:"Address",name:"address",required:!1,icon:l.a.createElement(b.a,null)},{id:"defaultDiscount",type:"text",label:"Default Discount",name:"defaultDiscount",required:!1,icon:l.a.createElement(v.a,null)},{id:"bankAccount",type:"text",label:"Bank Account",name:"bankAccount",required:!1,icon:l.a.createElement(E.a,null)},{id:"recruiter",type:"text",label:"Recruiter",name:"recruiter",required:!1,icon:l.a.createElement(y.a,null)},{id:"description",type:"text",label:"Description",name:"description",multiline:!0,rows:4,required:!1}],C=a(323),w=a(10),N=a(21),S=a(19),M={fetchApi:N.a};t.default=Object(u.b)((function(e){var t=e.global;return Object(n.a)({},t)}),M)((function(e){var t=e.fetchApi,a=Object(o.i)().id,u=Object(o.g)().push,s=Object(c.useState)([]),d=Object(r.a)(s,2),m=d[0],p=d[1],f=Object(c.useState)({}),b=Object(r.a)(f,2),h=b[0],v=b[1];Object(c.useEffect)((function(){a&&(t(!0),Object(C.c)(a).then((function(e){t(!1);var a=[],r=x,c=e.data;Object.keys(e.data).forEach((function(e){r.forEach((function(t){return e===t.id&&a.push(Object(n.a)(Object(n.a)({},t),{},{value:c["".concat(e)]})),null}))})),v(c),p([].concat(a))})).catch((function(e){t(!1),S.b.error("Unable to get the supplier details")})))}),[t,a]);if(h.id&&m.length){var g=Object(n.a)({},h);return m.forEach((function(e){g["".concat(e.id)]=e.value})),console.log(g),g?l.a.createElement(i.a,{title:"Edit Supplier",data:m,onClick:function(e,a){e.id=void 0,e.roleInPOS=void 0,t(!0),Object(C.f)(a,e).then((function(e){t(!1),u(w.a.suppliers),S.b.success("Succuessfully Updated")})).catch((function(e){t(!1),S.b.error("Unable to update supplier details")}))},actor:g,handleDelete:function(){t(!0),Object(C.b)(h.id).then((function(){t(!1),u(w.a.suppliers)})).catch((function(e){t(!1),S.b.error("Unable to delete supplier")}))},buttonName:"Submit"}):null}if(!a){var y=Object(n.a)(Object(n.a)({},h),{},{gender:"male"});return l.a.createElement(i.a,{title:"Create new Supplier",data:x,onClick:function(e){t(!0),Object(C.a)(e).then((function(e){t(!1),u(w.a.suppliers),S.b.success("Succuessfully created")})).catch((function(e){console.log(e),t(!1),S.b.error("Unable to create supplier")}))},actor:y})}return null}))}}]);
//# sourceMappingURL=5.53bddddb.chunk.js.map