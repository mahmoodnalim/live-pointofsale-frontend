{"version":3,"sources":["components/pages/Employees.js"],"names":["mapActionToProps","fetchApi","connect","global","useHistory","location","push","useState","employeeList","setEmployeeList","classes","useStyles","useEffect","getEmployeeList","then","res","Array","isArray","data","displayEmployeeList","map","id","firstName","lastName","phoneNo","gender","bankAccount","catch","err","toast","error","className","pageContainer","title","createNewPath","tableData","tableHeaders","getEmployeeTableHeaders","handleEdit","employee","pathname"],"mappings":"kPA4DMA,EAAmB,CACvBC,cAGaC,uBARS,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACzB,OAAO,eAAKA,KAO0BH,EAAzBE,EArDG,SAAC,GAAkB,IAAhBD,EAAe,EAAfA,SAAe,EACPG,cAAnBC,EAD0B,EAC1BA,SAAUC,EADgB,EAChBA,KADgB,EAEMC,mBAAS,IAFf,mBAE3BC,EAF2B,KAEbC,EAFa,KAI5BC,EAAUC,cAEhBC,qBAAU,WAgBRX,GAAS,GACTY,cAAkBC,MAhBY,SAAAC,GAE5B,GADAd,GAAS,GACLe,MAAMC,QAAQF,EAAIG,MAAO,CAC3B,IAAMC,EAAsBJ,EAAIG,KAAKE,KACnC,YACE,MAAO,CAAEC,GADoD,EAA5DA,GACYC,UADgD,EAAxDA,UACmBC,SADqC,EAA7CA,SACkBC,QAD2B,EAAnCA,QACiBC,OADkB,EAA1BA,OACgBC,YADU,EAAlBA,gBAI/CjB,EAAgBU,OAQ0BQ,OALjB,SAAAC,GAC3BC,IAAMC,MAAM,gCAKb,CAAC7B,IASJ,OACE,yBAAK8B,UAAWrB,EAAQsB,eACtB,kBAAC,IAAD,CAAWC,MAAM,YAAYC,cAAc,cAC3C,kBAAC,IAAD,CACEC,UAAW3B,EACX4B,aAAcC,IACdC,WAba,SAAAC,GAIjB,OAHkB,WAChBjC,EAAK,GAAD,OAAID,EAASmC,SAAb,iBAA8BD,EAASlB","file":"static/js/14.41581977.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport TableBuilder from '../uis/TableBuilder/TableBuilder.js';\nimport { useHistory } from 'react-router-dom';\nimport { getEmployeeTableHeaders } from '../../utilities/helpers/tableHelpers.js';\nimport { getEmployeeList } from '../../http/employeeApi';\nimport { fetchApi } from '../../store/actions/globalAction.js';\nimport useStyles from '../../styles/useStyles.js';\nimport PageTitle from '../uis/UtilComponents/PageTitle/PageTitle.js';\nimport { toast } from 'react-toastify';\n\nconst Employees = ({ fetchApi }) => {\n  const { location, push } = useHistory();\n  const [employeeList, setEmployeeList] = useState([]);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    const handleGetEmployeeResp = res => {\n      fetchApi(false);\n      if (Array.isArray(res.data)) {\n        const displayEmployeeList = res.data.map(\n          ({ id, firstName, lastName, phoneNo, gender, bankAccount }) => {\n            return { id, firstName, lastName, phoneNo, gender, bankAccount };\n          }\n        );\n        setEmployeeList(displayEmployeeList);\n      }\n    };\n    const handleGetEmployeeErr = err => {\n      toast.error('Unable to get employees');\n    };\n\n    fetchApi(true);\n    getEmployeeList().then(handleGetEmployeeResp).catch(handleGetEmployeeErr);\n  }, [fetchApi]);\n\n  const handleEdit = employee => {\n    const editClick = () => {\n      push(`${location.pathname}/edit/${employee.id}`);\n    };\n    return editClick;\n  };\n\n  return (\n    <div className={classes.pageContainer}>\n      <PageTitle title=\"Employees\" createNewPath=\"employees\" />\n      <TableBuilder\n        tableData={employeeList}\n        tableHeaders={getEmployeeTableHeaders}\n        handleEdit={handleEdit}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ global }) => {\n  return { ...global };\n};\n\nconst mapActionToProps = {\n  fetchApi,\n};\n\nexport default connect(mapStateToProps, mapActionToProps)(Employees);\n"],"sourceRoot":""}