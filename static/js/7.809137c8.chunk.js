(this["webpackJsonpeit-pos-front-end"]=this["webpackJsonpeit-pos-front-end"]||[]).push([[7],{313:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(122),l=a(36),o=a(299);t.a=function(e){var t=e.entry,a=e.handleDatePickerChange,n=e.selectedDate,u=t.name,i=t.id;return r.a.createElement(l.a,{utils:c.a},r.a.createElement(o.a,{margin:"medium",id:i,name:u,format:" yyyy / MM / dd",value:n,onChange:a}))}},314:function(e,t,a){"use strict";var n=a(42),r=a(8),c=a(14),l=a(0),o=a.n(l),u=a(30),i=a(110),d=a(279),s=a(282),m=a(295),f=function(e){var t=e.entry,a=e.getValue,n=t.label,r=t.name,u=t.icon,i=t.type,f=t.required,b=t.autoFocus,p=t.value,h=t.multiline,v=t.rows,g=t.id,E=t.helperText,O=t.error,y=t.readOnly,j=Object(l.useState)(p),k=Object(c.a)(j,2),C=k[0],x=k[1];return o.a.createElement(d.a,{item:!0,xs:6},o.a.createElement(s.a,{fullWidth:!0,id:g,label:n,placeholder:n,name:r,type:i,required:f,autoFocus:b,value:C,multiline:h,rows:v,onChange:function(e){x(e.target.value),"function"===typeof a&&a(e.target.name,e.target.value)},error:O,helperText:O&&E,variant:"outlined",InputProps:{startAdornment:o.a.createElement(m.a,{position:"start"},u),readOnly:y}}))},b=a(3),p=a(220),h=a(341),v=a(342),g=a(335),E=a(227),O=Object(p.a)((function(e){return{root:{"&:hover":{backgroundColor:"transparent",display:"flex",flexWrap:"wrap"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},checkedIcon:{backgroundColor:"#137cbd",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:"#106ba3"}}}}));function y(e){var t=O();return o.a.createElement(h.a,Object.assign({className:t.root,disableRipple:!0,color:"default",checkedIcon:o.a.createElement("span",{className:Object(b.a)(t.icon,t.checkedIcon)}),icon:o.a.createElement("span",{className:t.icon})},e))}var j=function(e){var t=e.entry,a=e.getValue,n=t.value,r=t.name,u=t.label,i=t.values,s=Object(l.useState)(n),m=Object(c.a)(s,2),f=m[0],b=m[1];return o.a.createElement(d.a,{item:!0,xs:6},o.a.createElement(E.a,{component:"legend"},u),o.a.createElement(v.a,{row:!0,defaultValue:i[0].toLowerCase(),value:f,name:r,onChange:function(e){b(e.target.value),"function"===typeof a&&a(e.target.name,e.target.value)}},o.a.createElement(g.a,{value:i[0].toLowerCase(),control:o.a.createElement(y,null),label:i[0]}),o.a.createElement(g.a,{value:i[1].toLowerCase(),control:o.a.createElement(y,null),label:i[1]})))},k=a(306),C=a(167),x=a(17),S=a(325),N=a.n(S),w=function(e){var t=e.entry,a=e.getValue;console.log(t);var n=t.alt,r=t.value,u=Object(x.a)(),i=Object(l.useState)(r),s=Object(c.a)(i,2),m=s[0],f=s[1];return o.a.createElement(d.a,{xs:12},o.a.createElement("div",{className:u.customAvatarRoot},o.a.createElement(k.a,{alt:n,src:m,className:u.customAvatarStyles}),o.a.createElement("input",{accept:"image/*",className:u.customAvatarInput,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){console.log(e.target.name),console.log(e),a("logo",URL.createObjectURL(e.target.files[0])),f(URL.createObjectURL(e.target.files[0]))}}),o.a.createElement("label",{className:u.customAvatarButton,htmlFor:"contained-button-file"},o.a.createElement(C.a,{variant:"contained",color:"primary",size:"small",component:"span",startIcon:o.a.createElement(N.a,null)},"Upload"))))},M=a(285),V=a(300),z=a(121),D=a.n(z),P=a(313),I=a(20),q=a(225),A=a(226),_=a(233),R=a(223),F=a(311),L=a(308),U=a(228),T=a(238),H=function(e){var t=e.entry,a=e.getValue,n=t.value,r=t.name,l=t.id,u=t.label,i=t.helperText,s=t.error,m=o.a.useState([]),f=Object(c.a)(m,2),b=f[0],p=f[1],h=Object(x.a)(),v=(Object(T.a)(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return b.reduce((function(e,t){return e+t.amount}),e)});return o.a.createElement(d.a,{item:!0,xs:6},o.a.createElement(q.a,{className:h.dropdownControl},o.a.createElement(A.a,{id:u},"Due"),o.a.createElement(_.a,{labelId:u,id:l,value:b,onChange:function(e){var t=-1;b.forEach((function(a,n){a.id===e.target.value.id&&(t=n)})),console.log(t),t<0?(p([].concat(Object(I.a)(b),[e.target.value])),e.target.value=v(e.target.value.amount)):(b.splice(t,1),p(Object(I.a)(b)),e.target.value=v()),"function"===typeof a&&a(e.target.name,e.target.value)},input:o.a.createElement(R.a,{id:"Select due"}),name:r,renderValue:function(e){return o.a.createElement("div",{className:h.dropdownChips},e.map((function(e){return o.a.createElement(F.a,{key:e.id,label:"Rs. ".concat(parseFloat(e.total).toFixed(2))})})))}},n.map((function(e){return o.a.createElement(L.a,{key:l,value:e,style:(t=e.id,{fontWeight:b.filter((function(e){return e.id===t})).length?"bold":"normal"})},"pay due Rs. ".concat(parseFloat(e.amount).toFixed(2)," on ").concat(new Date(e.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric"})));var t}))),s&&o.a.createElement(U.a,{error:!0},i)))},B=a(337),W=Object(p.a)((function(e){return{root:{padding:7,margin:e.spacing(1)},thumb:{width:24,height:24,backgroundColor:"#fff",boxShadow:"0 0 12px 0 rgba(0,0,0,0.08), 0 0 8px 0 rgba(0,0,0,0.12), 0 0 4px 0 rgba(0,0,0,0.38)"},switchBase:{color:"rgba(0,0,0,0.38)",padding:7},track:{borderRadius:20,backgroundColor:"#90a4ae"},checked:{"& $thumb":{backgroundColor:"#fff"},"& + $track":{opacity:"1 !important"}}}})),$=function(e){var t=e.entry,a=e.getValue,n=t.name,r=t.label,l=t.checked,u=o.a.useState(l),i=Object(c.a)(u,2),s=i[0],m=i[1],f=W();return o.a.createElement(d.a,{item:!0,xs:6},o.a.createElement(E.a,{component:"legend"},r),o.a.createElement(B.a,{defaultChecked:!1,color:"primary",classes:f,checked:s,name:n,onChange:function(e){m(e.target.checked),"function"===typeof a&&a(e.target.name,e.target.checked)}}))},J=a(120),G=a(29),K=function(e){var t=e.entry,a=e.getValue,n=e.hidden,r=t.values,l=t.name,u=t.id,i=t.label,s=t.helperText,m=t.error,f=Object(x.a)(),b=o.a.useState(r[0].value),p=Object(c.a)(b,2),h=p[0],v=p[1];return n?null:o.a.createElement(d.a,{item:!0,xs:6},o.a.createElement(q.a,{className:f.dropdownControl},o.a.createElement(A.a,{id:i},i),o.a.createElement(_.a,{labelId:i,id:u,value:h,onChange:function(e){"function"===typeof a&&(a(e.target.name,e.target.value),v(e.target.value))},name:l},r.map((function(e){var t=e.key,a=e.value;return o.a.createElement(L.a,{key:t,value:t},a)}))),m&&o.a.createElement(U.a,{error:!0},s)))},Q=a(96),X=a.n(Q);t.a=function(e){var t=e.title,a=(e.topUis,e.buttonName),s=void 0===a?"Submit":a,m=e.data,b=void 0===m?[]:m,p=e.onClick,h=e.actor,v=void 0===h?{}:h,g=e.handleDelete,E=e.hideDeleteButton,O=e.handleDatePickerChange;console.log(b);var y=Object(l.useState)(Object(r.a)({},v)),k=Object(c.a)(y,2),S=k[0],N=k[1],z=Object(l.useState)(),I=Object(c.a)(z,2),q=I[0],A=I[1],_=o.a.useState(!1),R=Object(c.a)(_,2),F=R[0],L=R[1],U=function(e,t){N(Object(r.a)(Object(r.a)({},S),{},Object(n.a)({},e,t))),console.log(Object(r.a)(Object(r.a)({},S),{},Object(n.a)({},e,t)))},T=Object(u.g)(),B=Object(x.a)(),W=b;return q&&(W=q),o.a.createElement(M.a,{component:"main",maxWidth:"md"},o.a.createElement(C.a,{variant:"contained",color:"primary",onClick:function(){T.goBack()},className:B.backButton},o.a.createElement(X.a,null)),o.a.createElement(i.a,{component:"h1",variant:"h5"},o.a.createElement(V.a,{lineHeight:2},o.a.createElement(D.a,{className:B.formbuilderMargin}),t)),o.a.createElement("div",null,o.a.createElement("form",{className:B.formbuilderForm},o.a.createElement(d.a,{container:!0,spacing:3},W.map((function(e){switch(e.type){case"text":case"email":case"tel":case"number":return o.a.createElement(f,{entry:e,key:e.label,getValue:U});case"date":return o.a.createElement(P.a,{entry:e,handleDatePickerChange:O});case"radio":return o.a.createElement(j,{entry:e,key:e.label,getValue:U});case"customDropdown":return o.a.createElement(K,{entry:e,key:e.label,getValue:U,hidden:"supplierId"===e.id&&"branded"===S.itemType});case"dropdown":case"amount":return o.a.createElement(H,{entry:e,key:e.label,getValue:U});case"avatar":return o.a.createElement(w,{entry:e,getValue:U});case"switch":return o.a.createElement($,{entry:e,getValue:U,key:e.name});default:return null}}))),o.a.createElement(C.a,{type:"submit",variant:"contained",color:"primary",onClick:function(e){console.log(S),e.preventDefault();var t=[];b.forEach((function(e){var a=S["".concat(e.id)];"email"===e.type?function(e,t,a){e.required||t?G.e.test(t)?a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!0,helperText:"Email is not in valid format"})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1}))}(e,a,t):"tel"===e.type?function(e,t,a){e.required||t?G.f.test(t)?a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!0,helperText:"Please enter a valid phone number"})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1}))}(e,a,t):function(e,t,a){e.required?t?a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!0,helperText:"".concat(e.label," is required")})):a.push(Object(r.a)(Object(r.a)({},e),{},{error:!1}))}(e,a,t)})),A(t);var a=t.filter((function(e){return e.error}));a.length?(console.log("Form validation error"),console.log(a)):p(S,v.id)},className:B.formbuilderSubmit},s),v.id&&!E&&o.a.createElement(C.a,{variant:"contained",color:"secondary",onClick:function(){L(!0)}},"Delete"))),F&&o.a.createElement(J.a,{open:F,close:function(){L(!1)},handleAgree:g,id:"deletePopup",header:"Confirm Delete",content:"Are you sure want to delete the ".concat(v.firstName?"".concat(v.firstName," ").concat(v.lastName):v.itemName)}))}},315:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.default=c},316:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),"Email");t.default=c},317:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1zm-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5-4H7V4h9v14z"}),"PhoneIphone");t.default=c},318:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.default=c},319:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"}),"LocalOffer");t.default=c},320:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"}),"MonetizationOn");t.default=c},326:function(e,t,a){"use strict";var n=a(37);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(39)).default)(r.default.createElement("path",{d:"M21 5v14h2V5h-2zm-4 14h2V5h-2v14zM14 5H2c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM8 7.75c1.24 0 2.25 1.01 2.25 2.25S9.24 12.25 8 12.25 5.75 11.24 5.75 10 6.76 7.75 8 7.75zM12.5 17h-9v-.75c0-1.5 3-2.25 4.5-2.25s4.5.75 4.5 2.25V17z"}),"RecentActors");t.default=c},352:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(14),c=a(0),l=a.n(c),o=a(15),u=a(30),i=a(314),d=a(315),s=a.n(d),m=a(316),f=a.n(m),b=a(318),p=a.n(b),h=a(319),v=a.n(h),g=a(326),E=a.n(g),O=a(317),y=a.n(O),j=a(320),k=a.n(j),C=[{id:"firstName",type:"text",label:"First Name",name:"firstName",required:!0,autoFocus:!0,icon:l.a.createElement(s.a,null)},{id:"lastName",type:"text",label:"Last Name",name:"lastName",required:!0,icon:l.a.createElement(s.a,null)},{id:"email",type:"email",label:"Email",name:"email",required:!1,icon:l.a.createElement(f.a,null)},{id:"phoneNo",name:"phoneNo",type:"tel",label:"Mobile Number",required:!1,icon:l.a.createElement(y.a,null)},{id:"gender",name:"gender",type:"radio",label:"Gender",values:["Male","Female"]},{id:"address",type:"text",label:"Address",name:"address",required:!1,icon:l.a.createElement(p.a,null)},{id:"defaultDiscount",type:"text",label:"Default Discount",name:"defaultDiscount",required:!1,icon:l.a.createElement(v.a,null)},{id:"bankAccount",type:"text",label:"Bank Account",name:"bankAccount",required:!1,icon:l.a.createElement(k.a,null)},{id:"recruiter",type:"text",label:"Recruiter",name:"recruiter",required:!1,icon:l.a.createElement(E.a,null)},{id:"roleInPOS",type:"text",label:"Role In POS",name:"roleInPOS",required:!1,icon:l.a.createElement(s.a,null)},{id:"description",type:"text",label:"Description",name:"description",multiline:!0,rows:4,required:!1}],x=a(126),S=a(10),N=a(21),w=a(19),M={fetchApi:N.a};t.default=Object(o.b)((function(e){var t=e.global;return Object(n.a)({},t)}),M)((function(e){var t=e.fetchApi,a=Object(u.i)().id,o=Object(u.g)().push,d=Object(c.useState)([]),s=Object(r.a)(d,2),m=s[0],f=s[1],b=Object(c.useState)({}),p=Object(r.a)(b,2),h=p[0],v=p[1];Object(c.useEffect)((function(){a&&(t(!0),Object(x.c)(a).then((function(e){t(!1);var a=[],r=C,c=e.data;Object.keys(e.data).forEach((function(e){r.forEach((function(t){return e===t.id&&a.push(Object(n.a)(Object(n.a)({},t),{},{value:c["".concat(e)]})),null}))})),v(c),f([].concat(a))})).catch((function(e){t(!1),w.b.error("Unable to get the employee details")})))}),[t,a]);if(h.id&&m.length){var g=Object(n.a)({},h);return m.forEach((function(e){g["".concat(e.id)]=e.value})),console.log(g),g?l.a.createElement(i.a,{title:"Edit Employee",data:m,onClick:function(e,a){e.id=void 0,e.roleInPOS=void 0,t(!0),Object(x.e)(a,e).then((function(e){t(!1),o(S.a.employees),w.b.success("Succuessfully Updated")})).catch((function(e){t(!1),w.b.error("Unable to update employee details")}))},actor:g,handleDelete:function(){t(!0),Object(x.b)(h.id).then((function(){t(!1),o(S.a.employees)})).catch((function(e){t(!1),w.b.error("Unable to delete employee")}))},buttonName:"Submit"}):null}if(!a){var E=Object(n.a)(Object(n.a)({},h),{},{gender:"male"});return l.a.createElement(i.a,{title:"Create new Employee",data:C,onClick:function(e){t(!0),Object(x.a)(e).then((function(e){t(!1),o(S.a.employees),w.b.success("Succuessfully created")})).catch((function(e){console.log(e),t(!1),w.b.error("Unable to create employee")}))},actor:E})}return null}))}}]);
//# sourceMappingURL=7.809137c8.chunk.js.map